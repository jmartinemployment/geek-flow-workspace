<svg:g
  [attr.transform]="'translate(' + position().x + ',' + position().y + ')'"
  (click)="onSelect()"
  role="button"
  tabindex="0"
  (keyup.enter)="onSelect()"
  [attr.aria-label]="'Step: ' + nodeLabel()">

  <!-- Node background -->
  <svg:rect
    width="180"
    height="60"
    rx="8"
    ry="8"
    [attr.fill]="isSelected() ? '#e8f0fe' : '#ffffff'"
    [attr.stroke]="nodeColor()"
    stroke-width="2"
    class="node-rect" />

  <!-- Color accent bar -->
  <svg:rect
    width="6"
    height="44"
    x="4"
    y="8"
    rx="3"
    [attr.fill]="nodeColor()" />

  <!-- Type label -->
  <svg:text x="18" y="22" class="node-type" fill="#6c757d">
    {{ step().type }}
  </svg:text>

  <!-- Action label -->
  <svg:text x="18" y="42" class="node-label" fill="#212529">
    {{ nodeLabel() }}
  </svg:text>

  <!-- Connection port (bottom) -->
  <svg:circle cx="90" cy="60" r="5" fill="#dee2e6" stroke="#adb5bd" stroke-width="1" />

  <!-- Connection port (top) -->
  <svg:circle cx="90" cy="0" r="5" fill="#dee2e6" stroke="#adb5bd" stroke-width="1" />
</svg:g>
